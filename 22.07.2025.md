Wir haben heute damit angefangen den Ubuntu 2504 server auf virtual box mit Oracle fÃ¼r Icinga2 fertig aufzusetzen und es darauf zu installieren 

Erstmal galt es alle prerequisites fÃ¼r icinga2 auf dem Server zu installieren (wget, icinga-active-keyring, monitoring plugins, und natÃ¼rlich updates). Dann wurde Icinga2 installiert. 

Danach haben wir zusammen eine Postgress Datenbank und ein redis fÃ¼r Icinga2 erstellt. 

WÃ¤hrenddessen wurde von Dominik an den python Scripts gearbeitet. 

Als nÃ¤chstes wurden die User fÃ¼r die Datenbank eingerichtet und Berechtigungen angepasst. AuÃŸerdem haben wir Icinga2 konfiguriert 
Das hat ein paar Probleme verursacht, weil wir die Reihenfolge nicht StandardmÃ¤ÃŸig gemacht haben. Hat aber ziemlich gut geklappt.

Nach einem Kampf mit der config von icinga2 lief dieses jetz auch und wir mussten nurnoch die Schnittstelle konfigurieren. 

Davor haben wir aber ein Backup des ganzen Systems auf einem USB Stick gemacht. 

Dann haben wir snmp auf dem Raspberry Pi und server eingerichtet

Wir haben zuerst DES und MD5 sind dann auf SHA und AES umgestiegen weil es nicht funktioniert hat. 

Auf Raspberry pi neuen SNMP nutzer mit SHA und AES angelegt und in Services config Icinga2 geÃ¤ndert. 

Manuell in der Konsole ausprobiert und hat dann funktioniert. 
Damn andere konfigs angepasst Und dann wurde es automatisiert. 

Dann Haben wir angefangen den Server zu hÃ¤rten. 
Thresholds in Services config hinterlegt 
Damit wir bei bestimmten Werten Alarme senden 



Fragen noch zu klÃ¤ren fÃ¼r Notizen 
System & Setup

1. Welcher Netzwerkmodus wurde in VirtualBox verwendet? (NAT, Bridged, etc.) bridged weil wir Ã¼ber ssh darauf zugreifen wollten


2. Wurde der Hostname gesetzt? Wenn ja, wie lautet er? Icinga user: bastion


3. Gab es Snapshots oder nur das USB-Backup? Nein nur 1 Backup 




---

âš™ï¸ Prerequisites & Icinga2

5. Welche genauen Pakete hast du fÃ¼r die â€monitoring pluginsâ€œ installiert? Nagios Monitoring 


6. Wurde der Icinga2-Node als Master oder Satellite eingerichtet? Master


7. Wurde icinga2 node wizard verwendet oder manuell konfiguriert? Manuel


8. Welche Config-Dateien wurden verÃ¤ndert? (z.â€¯B. icinga2.conf, features-enabled/, zones.conf, etc.) alle 


9. Welche Probleme traten bei der Konfiguration auf? (z.â€¯B. Fehlermeldungen?) Datenbank: alles war zuerst auf einer Datenbank aber das hat nicht funktioniert, weil die Tabellen verschiedene chematas gebraucht haben
VerschlÃ¼sselung: verschlÃ¼sselungsmethode war nicht kompatibel 


---

ğŸ—ƒï¸ PostgreSQL & Redis

10. Wie heiÃŸt der Datenbanknutzer?
1 Icinga2 fÃ¼r monitoring 
2 icingadb fÃ¼r den rest

11. Wie heiÃŸt die Datenbank?
Icinga2
Icingadb
Icingaweb_db


13. Wurden redis und postgres lokal oder extern verwendet?
Local 

14. Wurde der redis-Zugang abgesichert oder offen gelassen?

Noch offen, wird noch abgesichert


---

ğŸ” Backup

15. Wie wurde das Backup gemacht? (dd, rsync, tar, etc.)
Als ova

16. Welche Verzeichnisse wurden gesichert? (nur /etc/, ganze Platte, inkl. Datenbanken?)
Alles 

17. Wurde das Backup verschlÃ¼sselt oder komprimiert?
Nein


---

ğŸ“¡ SNMP

19. Welche SNMP-Tools wurden verwendet? (nur snmpd, oder auch snmptt o.â€¯Ã¤.?)
Walk, translate, object oid

20. Wie heiÃŸt der SNMPv3-Nutzer?
Icingamonitor

21. Welche Auth-/Priv-PasswÃ¶rter wurden gewÃ¤hlt (oder wie gespeichert)?
Siehe [[21.07.2025]]

22. Welche OIDs werden abgefragt?
Die ausm Bild 1. 3. 6.1.4.1.8072.1.3.2. 3.1.1.4.116.101.109.112

23. Welche Konfig-Dateien in Icinga2 wurden angepasst?
 services, hosts

24. Wie wurde die Automatisierung umgesetzt? (Script, Template, etc.)
Icinga fragt jede Minute per SNMP an. ZukÃ¼nftig wird das per ringspeicher im Pi gemacht und dann einen Durchschnittswert ausgegeben 


---

ğŸ§  Python-Skripte

25. Was ist der Zweck der Python-Skripte?
Nur das TemperaturÃ¼berwachungs Skript angepasst 

26. Gibt es externe AbhÃ¤ngigkeiten oder Libraries?
Keine externen nur von python sys ors glob


---

ğŸ›¡ï¸ HÃ¤rtung

29. Was genau wurde zur HÃ¤rtung gemacht? (Firewall, SSH, Dienste, Updatesâ€¦)
Noch nicht viel, VerschlÃ¼sselung und PasswÃ¶rter gesetzt 

30. Wurde UFW oder iptables genutzt?
UFW wurde benutzt und wird dann zum harten verwendet um die zugriffshosts einzuschrÃ¤nken , IPTables nur zum testen 

31. Wurde Root-Login deaktiviert oder SSH-Keys eingerichtet?
Nein noch nicht

32. Wurden unnÃ¶tige Dienste entfernt oder deaktiviert?
Noch nicht

33. Wurde Fail2ban oder andere Tools installiert? 
Noch nicht und wird wahrscheinlich auch nicht